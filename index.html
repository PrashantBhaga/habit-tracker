


https://script.google.com/macros/s/AKfycbwEbxwekCAcsgQDC8GO8Tl88U9gRtrpaihAWNCM-0wCYNCRjotwK8Ps2NWtcO_MVMCT/exec

function submitHabit() {
    if (!habitType) {
        alert("Please select a habit type (+, =, or -)");
        return;
    }

    const habit = document.getElementById('habitInput').value;
    const cue = document.getElementById('cueInput').value;
    const timestamp = new Date();
    const dayOfWeek = timestamp.toLocaleString('en-US', { weekday: 'long' });
    const timeOfDay = timestamp.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });

    const data = {
        habit: habit,
        type: habitType,
        cue: cue,
        dayOfWeek: dayOfWeek,
        timeOfDay: timeOfDay
    };

    fetch(https://script.google.com/macros/s/AKfycbwEbxwekCAcsgQDC8GO8Tl88U9gRtrpaihAWNCM-0wCYNCRjotwK8Ps2NWtcO_MVMCT/exec, {
        method: 'POST',
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(result => {
        console.log('Success:', result);
        document.getElementById('message').innerText = "Oh, how interesting that they would do such a thing.";
    })
    .catch(error => {
        console.error('Error:', error);
        document.getElementById('message').innerText = "An error occurred. Please try again.";
    });

    // Reset the form
    habitType = null;
    document.getElementById('habitInput').value = '';
    document.getElementById('cueInput').value = '';
    document.querySelectorAll('.btn').forEach(btn => btn.style.opacity = '1');
}
